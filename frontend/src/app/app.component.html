<nav class="navbar navbar-expand-lg navbar-dark bg-dark shadow">
  <div class="container">
    <a class="navbar-brand fw-bold fs-4" routerLink="/">
      <i class="fas fa-store me-2 text-primary"></i>ShopEase
    </a>

    <div class="navbar-nav ms-auto align-items-center">
      <!-- Cart Link -->
      <a class="nav-link position-relative me-3 text-light" routerLink="/cart">
        <i class="fas fa-shopping-cart me-1"></i>
        Cart
        <span *ngIf="cartCount > 0"
              [@badgePulse]="badgeState"
              class="position-absolute top-0 start-100 translate-middle badge rounded-pill bg-danger">
          {{ cartCount }}
        </span>
      </a>

      <!-- Guest Links -->
      <ng-container *ngIf="!currentUser">
        <a class="nav-link text-light me-2" routerLink="/login">
          <i class="fas fa-sign-in-alt me-1"></i>Login
        </a>
        <a class="btn btn-outline-primary btn-sm" routerLink="/register">
          <i class="fas fa-user-plus me-1"></i>Register
        </a>
      </ng-container>

      <!-- Authenticated User -->
      <ng-container *ngIf="currentUser">
        <span class="navbar-text text-light me-3">
          <i class="fas fa-user-circle me-1"></i>
          Welcome, <strong>{{ currentUser.displayName }}</strong>
        </span>
        <button class="btn btn-outline-danger btn-sm" (click)="onLogout()">
          <i class="fas fa-sign-out-alt me-1"></i>
          Logout
        </button>
      </ng-container>
    </div>
  </div>
</nav>

<main>
  <router-outlet></router-outlet>
</main>
